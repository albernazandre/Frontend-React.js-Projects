{"ast":null,"code":"var _jsxFileName = \"/home/andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/Recipe.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst four = 4;\nfunction RecipeDetails() {\n  _s();\n  const [ingredientAndMeasure, setIngredientAndMeasure] = useState([]);\n  const [urlForVideo, setUrlForVideo] = useState('');\n  const location = useLocation();\n  const [checkboxID, setCheckboxID] = useState([]);\n  const {\n    pathname\n  } = location;\n  const pathnameSplited = pathname.split('/');\n  const pathnameAfterSplit = pathnameSplited[1];\n  const recipeDetails = useSelector(_ref => {\n    let {\n      RecipePage\n    } = _ref;\n    return RecipePage.detailsObject;\n  });\n  console.log(pathnameSplited);\n  useEffect(() => {\n    if (recipeDetails.length > 0) {\n      const keys = Object.keys(recipeDetails[0]);\n      const values = Object.values(recipeDetails[0]);\n      const ingredients = [];\n      const measurement = [];\n      keys.forEach((key, index) => {\n        if (key.includes('Ingredient') && values[index] !== null) {\n          ingredients.push(values[index]);\n        }\n        if (key.includes('Measure') && values[index] !== null) {\n          measurement.push(values[index]);\n        }\n      });\n      const filteredMeasure = measurement.filter(measure => measure.length > 0 || false);\n      const filteredIngredients = ingredients.filter(ingredientsFil => ingredientsFil.length > 0);\n      const arrayOfInstructions = filteredIngredients.map((instruction, index) => ({\n        ingredient: instruction,\n        measure: filteredMeasure[index]\n      }));\n      setIngredientAndMeasure(arrayOfInstructions);\n    }\n    if (pathnameAfterSplit === 'meals' && recipeDetails.length > 0) {\n      const url = recipeDetails[0].strYoutube;\n      const urlForUse = url.replaceAll('watch?v=', 'embed/');\n      setUrlForVideo(urlForUse);\n    }\n  }, [recipeDetails]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [recipeDetails.length > 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n      \"data-testid\": \"recipe-title\",\n      children: recipeDetails[0].strDrink || recipeDetails[0].strMeal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), recipeDetails.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: recipeDetails[0].strDrinkThumb || recipeDetails[0].strMealThumb,\n        alt: \"recipe content\",\n        \"data-testid\": \"recipe-photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"recipe-category\",\n        children: pathnameAfterSplit === 'meals' ? recipeDetails[0].strCategory : recipeDetails[0].strAlcoholic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"instructions\",\n        children: recipeDetails[0].strInstructions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), pathnameSplited.length === four ? ingredientAndMeasure.map((_ref2, index) => {\n      let {\n        ingredient,\n        measure\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"label\", {\n        \"data-testid\": `${index}-ingredient-step`,\n        htmlFor: index,\n        className: checkboxID.includes(index) ? 'riscado' : undefined,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: index,\n          onChange: () => {\n            if (checkboxID.includes(index)) {\n              setCheckboxID(checkboxID.filter(checkbox => checkbox !== index));\n            } else {\n              setCheckboxID([...checkboxID, index]);\n            }\n          },\n          checked: checkboxID.includes(index)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), `${ingredient}: ${measure}`]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this);\n    }) : ingredientAndMeasure.map((_ref3, index) => {\n      let {\n        ingredient,\n        measure\n      } = _ref3;\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": `${index}-ingredient-name-and-measure`,\n        children: `${ingredient}: ${measure}`\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this);\n    }), pathnameAfterSplit === 'meals' && recipeDetails.length > 0 && /*#__PURE__*/_jsxDEV(\"iframe\", {\n      width: \"560\",\n      height: \"315\",\n      src: urlForVideo,\n      \"data-testid\": \"video\",\n      title: \"YouTube video player\",\n      allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n      allowfullscreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(RecipeDetails, \"Y5Jj7UDcLeyYgdiFJ3NQWjro4WQ=\", false, function () {\n  return [useLocation, useSelector];\n});\n_c = RecipeDetails;\nexport default RecipeDetails;\nvar _c;\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useLocation","four","RecipeDetails","ingredientAndMeasure","setIngredientAndMeasure","urlForVideo","setUrlForVideo","location","checkboxID","setCheckboxID","pathname","pathnameSplited","split","pathnameAfterSplit","recipeDetails","RecipePage","detailsObject","console","log","length","keys","Object","values","ingredients","measurement","forEach","key","index","includes","push","filteredMeasure","filter","measure","filteredIngredients","ingredientsFil","arrayOfInstructions","map","instruction","ingredient","url","strYoutube","urlForUse","replaceAll","strDrink","strMeal","strDrinkThumb","strMealThumb","strCategory","strAlcoholic","strInstructions","undefined","checkbox"],"sources":["/home/andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/Recipe.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\n\nconst four = 4;\n\nfunction RecipeDetails() {\n  const [ingredientAndMeasure, setIngredientAndMeasure] = useState([]);\n  const [urlForVideo, setUrlForVideo] = useState('');\n  const location = useLocation();\n  const [checkboxID, setCheckboxID] = useState([]);\n  const { pathname } = location;\n  const pathnameSplited = pathname.split('/');\n  const pathnameAfterSplit = pathnameSplited[1];\n  const recipeDetails = useSelector(({ RecipePage }) => RecipePage.detailsObject);\n  console.log(pathnameSplited);\n  useEffect(() => {\n    if (recipeDetails.length > 0) {\n      const keys = Object.keys(recipeDetails[0]);\n      const values = Object.values(recipeDetails[0]);\n      const ingredients = [];\n      const measurement = [];\n      keys.forEach((key, index) => {\n        if (key.includes('Ingredient') && values[index] !== null) {\n          ingredients.push(values[index]);\n        }\n        if (key.includes('Measure') && values[index] !== null) {\n          measurement.push(values[index]);\n        }\n      });\n      const filteredMeasure = measurement.filter(\n        (measure) => measure.length > 0 || false,\n      );\n      const filteredIngredients = ingredients.filter(\n        (ingredientsFil) => ingredientsFil.length > 0,\n      );\n      const arrayOfInstructions = filteredIngredients.map(\n        (instruction, index) => (\n          { ingredient: instruction, measure: filteredMeasure[index] }),\n      );\n      setIngredientAndMeasure(arrayOfInstructions);\n    }\n    if (pathnameAfterSplit === 'meals' && recipeDetails.length > 0) {\n      const url = recipeDetails[0].strYoutube;\n      const urlForUse = url.replaceAll('watch?v=', 'embed/');\n      setUrlForVideo(urlForUse);\n    }\n  }, [recipeDetails]);\n\n  return (\n    <div>\n      {recipeDetails.length > 0\n      && (\n        <h2\n          data-testid=\"recipe-title\"\n        >\n          {recipeDetails[0].strDrink || recipeDetails[0].strMeal}\n\n        </h2>)}\n      { recipeDetails.length > 0\n      && (\n        <>\n          <img\n            src={ recipeDetails[0].strDrinkThumb || recipeDetails[0].strMealThumb }\n            alt=\"recipe content\"\n            data-testid=\"recipe-photo\"\n          />\n          <p data-testid=\"recipe-category\">\n            { pathnameAfterSplit === 'meals' ? recipeDetails[0].strCategory\n              : recipeDetails[0].strAlcoholic}\n\n          </p>\n          <p data-testid=\"instructions\">{recipeDetails[0].strInstructions}</p>\n\n        </>)}\n      {pathnameSplited.length === four ? ingredientAndMeasure.map(\n        ({ ingredient, measure }, index) => (\n          <label\n            key={ index }\n            data-testid={ `${index}-ingredient-step` }\n            htmlFor={ index }\n            className={ checkboxID.includes(index) ? 'riscado' : undefined }\n          >\n            <input\n              type=\"checkbox\"\n              id={ index }\n              onChange={ () => {\n                if (checkboxID.includes(index)) {\n                  setCheckboxID(checkboxID.filter((checkbox) => checkbox !== index));\n                } else {\n                  setCheckboxID([...checkboxID, index]);\n                }\n              } }\n              checked={ checkboxID.includes(index) }\n            />\n            {`${ingredient}: ${measure}`}\n          </label>),\n      )\n        : ingredientAndMeasure.map(({ ingredient, measure }, index) => (\n          <p\n            key={ index }\n            data-testid={ `${index}-ingredient-name-and-measure` }\n          >\n            {`${ingredient}: ${measure}`}\n\n          </p>))}\n      { pathnameAfterSplit === 'meals' && recipeDetails.length > 0\n      && <iframe\n        width=\"560\"\n        height=\"315\"\n        src={ urlForVideo }\n        data-testid=\"video\"\n        title=\"YouTube video player\"\n        allow=\"accelerometer;\n        autoplay;\n        clipboard-write;\n         encrypted-media;\n          gyroscope;\n          picture-in-picture;\n           web-share\"\n        allowfullscreen\n      /> }\n    </div>\n  );\n}\n\nexport default RecipeDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}