{"ast":null,"code":"var _jsxFileName = \"/home/andre/Documentos/Andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/SearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { fetchApiIngredient, fetchApiIngredientDrinks, fetchApiLetter, fetchApiLetterDrinks, fetchApiName, fetchApiNameDrinks } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar() {\n  _s();\n  const [filter, setFilter] = useState('');\n  const location = useLocation();\n  const {\n    pathname\n  } = location;\n  const dispatch = useDispatch();\n  const search = useSelector(state => state.search.search);\n  const isLoading = useSelector(state => state.search.isLoading);\n  const data = useSelector(state => state.search.data);\n  const history = useHistory();\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    setFilter(target.value);\n  };\n  const handleClickMeals = () => {\n    if (filter === 'ingredient') {\n      dispatch(fetchApiIngredient(search));\n    } else if (filter === 'name-search') {\n      dispatch(fetchApiName(search));\n    } else if (filter === 'first-letter' && search.length === 1) {\n      dispatch(fetchApiLetter(search));\n    } else {\n      global.alert('Your search must have only 1 (one) character');\n    }\n  };\n  const handleClickDrinks = () => {\n    if (filter === 'ingredient') {\n      dispatch(fetchApiIngredientDrinks(search));\n    } else if (filter === 'name-search') {\n      dispatch(fetchApiNameDrinks(search));\n    } else if (filter === 'first-letter' && search.length <= 1) {\n      dispatch(fetchApiLetterDrinks(search));\n    } else {\n      global.alert('Your search must have only 1 (one) character');\n    }\n  };\n  if (data && data.length === 1 && pathname === '/meals') {\n    history.push(`/meals/${data[0].idMeal}`);\n  } else if (data && data.length === 1 && pathname === '/drinks') {\n    history.push(`/drinks/${data[0].idDrink}`);\n  }\n  if (!isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"input-ingredient\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"ingredient-search-radio\",\n          type: \"radio\",\n          name: \"filter\",\n          id: \"input-ingredient\",\n          value: \"ingredient\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), \"Ingredient\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"input-name-search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"name-search-radio\",\n          type: \"radio\",\n          name: \"filter\",\n          id: \"input-name-search\",\n          value: \"name-search\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), \"Name\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"input-first-letter\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"first-letter-search-radio\",\n          type: \"radio\",\n          name: \"filter\",\n          id: \"input-first-letter\",\n          value: \"first-letter\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), \"First Letter\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"exec-search-btn\",\n        type: \"button\",\n        onClick: () => pathname === '/meals' ? handleClickMeals() : handleClickDrinks(),\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(SearchBar, \"4zg44nyXSHTpeqIb6TRTOgAhx7s=\", false, function () {\n  return [useLocation, useDispatch, useSelector, useSelector, useSelector, useHistory];\n});\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useHistory","useLocation","fetchApiIngredient","fetchApiIngredientDrinks","fetchApiLetter","fetchApiLetterDrinks","fetchApiName","fetchApiNameDrinks","SearchBar","filter","setFilter","location","pathname","dispatch","search","state","isLoading","data","history","handleChange","target","value","handleClickMeals","length","global","alert","handleClickDrinks","push","idMeal","idDrink"],"sources":["/home/andre/Documentos/Andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/SearchBar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  fetchApiIngredient,\n  fetchApiIngredientDrinks,\n  fetchApiLetter,\n  fetchApiLetterDrinks,\n  fetchApiName,\n  fetchApiNameDrinks } from '../redux/actions';\n\nfunction SearchBar() {\n  const [filter, setFilter] = useState('');\n  const location = useLocation();\n  const { pathname } = location;\n  const dispatch = useDispatch();\n  const search = useSelector((state) => state.search.search);\n  const isLoading = useSelector((state) => state.search.isLoading);\n  const data = useSelector((state) => state.search.data);\n  const history = useHistory();\n\n  const handleChange = ({ target }) => {\n    setFilter(target.value);\n  };\n\n  const handleClickMeals = () => {\n    if (filter === 'ingredient') {\n      dispatch(fetchApiIngredient(search));\n    } else if (filter === 'name-search') {\n      dispatch(fetchApiName(search));\n    } else if (filter === 'first-letter' && search.length === 1) {\n      dispatch(fetchApiLetter(search));\n    } else {\n      global.alert('Your search must have only 1 (one) character');\n    }\n  };\n\n  const handleClickDrinks = () => {\n    if (filter === 'ingredient') {\n      dispatch(fetchApiIngredientDrinks(search));\n    } else if (filter === 'name-search') {\n      dispatch(fetchApiNameDrinks(search));\n    } else if (filter === 'first-letter' && search.length <= 1) {\n      dispatch(fetchApiLetterDrinks(search));\n    } else {\n      global.alert('Your search must have only 1 (one) character');\n    }\n  };\n\n  if (data && data.length === 1 && pathname === '/meals') {\n    history.push(`/meals/${data[0].idMeal}`);\n  } else if (data && data.length === 1 && pathname === '/drinks') {\n    history.push(`/drinks/${data[0].idDrink}`);\n  }\n\n  if (!isLoading) {\n    return (\n      <div>\n        <label htmlFor=\"input-ingredient\">\n          <input\n            data-testid=\"ingredient-search-radio\"\n            type=\"radio\"\n            name=\"filter\"\n            id=\"input-ingredient\"\n            value=\"ingredient\"\n            onChange={ handleChange }\n          />\n          Ingredient\n        </label>\n        {' '}\n        <label htmlFor=\"input-name-search\">\n          <input\n            data-testid=\"name-search-radio\"\n            type=\"radio\"\n            name=\"filter\"\n            id=\"input-name-search\"\n            value=\"name-search\"\n            onChange={ handleChange }\n          />\n          Name\n        </label>\n        {' '}\n        <label htmlFor=\"input-first-letter\">\n          <input\n            data-testid=\"first-letter-search-radio\"\n            type=\"radio\"\n            name=\"filter\"\n            id=\"input-first-letter\"\n            value=\"first-letter\"\n            onChange={ handleChange }\n          />\n          First Letter\n        </label>\n        {' '}\n        <button\n          data-testid=\"exec-search-btn\"\n          type=\"button\"\n          onClick={\n            () => (pathname === '/meals' ? handleClickMeals() : handleClickDrinks())\n          }\n        >\n          Search\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}