{"ast":null,"code":"var _jsxFileName = \"/home/andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/FavoriteButton.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport blackHearticon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\n\n// const base = [{\n//   id: id - da - receita,\n//   type: meal - ou - drink,\n//   nationality: nacionalidade - da - receita - ou - texto - vazio,\n//   category: categoria - da - receita - ou - texto - vazio,\n//   alcoholicOrNot: alcoholic - ou - non - alcoholic - ou - texto - vazio,\n//   name: nome - da - receita,\n//   image: imagem - da - receita,\n// }];\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FavoriteButton() {\n  _s();\n  const [isFav, setIsFav] = useState(false);\n  const recipe = useSelector(_ref => {\n    let {\n      RecipePage\n    } = _ref;\n    return RecipePage.detailsObject;\n  })[0];\n  const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  const savingFavoriteRecipes = () => {\n    console.log(favoriteRecipes);\n    const savingFavoriteRecipeObject = {\n      id: recipe.idDrink || recipe.idMeal,\n      type: recipe.idDrink !== undefined ? 'drink' : 'meal',\n      nationality: recipe.strArea !== undefined ? recipe.strArea : '',\n      category: recipe.strCategory || '',\n      alcoholicOrNot: recipe.strAlcoholic !== undefined ? recipe.strAlcoholic : '',\n      name: recipe.strDrink || recipe.strMeal,\n      image: recipe.strDrinkThumb || recipe.strMealThumb\n    };\n    favoriteRecipes.push(savingFavoriteRecipeObject);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n  };\n  const deletingFavoriteRecipe = () => {\n    const pageID = recipe.idMeal || recipe.idDrink;\n    const arrayWithDeletedRecipe = favoriteRecipes.filter(_ref2 => {\n      let {\n        id\n      } = _ref2;\n      return id !== pageID;\n    });\n    localStorage.setItem('favoriteRecipes', JSON.stringify(arrayWithDeletedRecipe));\n  };\n  useEffect(() => {\n    console.log(recipe);\n    // const keys = Object.keys(recipe);\n    if (recipe !== undefined) {\n      const pageID = recipe.idMeal || recipe.idDrink;\n      const isThere = favoriteRecipes.some(favRec => favRec.id === pageID);\n      setIsFav(isThere);\n      console.log(pageID);\n      console.log(isThere);\n    }\n  }, [recipe, favoriteRecipes]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isFav ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setIsFav(false);\n        deletingFavoriteRecipe();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: blackHearticon,\n        alt: \"Black Heart\",\n        \"data-testid\": \"favorite-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setIsFav(true);\n        savingFavoriteRecipes();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: whiteHeartIcon,\n        alt: \"White Heart\",\n        \"data-testid\": \"favorite-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(FavoriteButton, \"COoKiIagqnJlwic6F0VHygsAx2c=\", false, function () {\n  return [useSelector];\n});\n_c = FavoriteButton;\nvar _c;\n$RefreshReg$(_c, \"FavoriteButton\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","blackHearticon","whiteHeartIcon","FavoriteButton","isFav","setIsFav","recipe","RecipePage","detailsObject","favoriteRecipes","JSON","parse","localStorage","getItem","savingFavoriteRecipes","console","log","savingFavoriteRecipeObject","id","idDrink","idMeal","type","undefined","nationality","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strDrink","strMeal","image","strDrinkThumb","strMealThumb","push","setItem","stringify","deletingFavoriteRecipe","pageID","arrayWithDeletedRecipe","filter","isThere","some","favRec"],"sources":["/home/andre/Documentos/albernazandre.github.io/sd-028-a-project-recipes-app/src/components/FavoriteButton.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport blackHearticon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\n\n// const base = [{\n//   id: id - da - receita,\n//   type: meal - ou - drink,\n//   nationality: nacionalidade - da - receita - ou - texto - vazio,\n//   category: categoria - da - receita - ou - texto - vazio,\n//   alcoholicOrNot: alcoholic - ou - non - alcoholic - ou - texto - vazio,\n//   name: nome - da - receita,\n//   image: imagem - da - receita,\n// }];\nexport default function FavoriteButton() {\n  const [isFav, setIsFav] = useState(false);\n  const recipe = useSelector(({ RecipePage }) => RecipePage.detailsObject)[0];\n  const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  const savingFavoriteRecipes = () => {\n    console.log(favoriteRecipes);\n    const savingFavoriteRecipeObject = {\n      id: recipe.idDrink || recipe.idMeal,\n      type: recipe.idDrink !== undefined ? 'drink' : 'meal',\n      nationality: recipe.strArea !== undefined ? recipe.strArea : '',\n      category: recipe.strCategory || '',\n      alcoholicOrNot: recipe.strAlcoholic !== undefined ? recipe.strAlcoholic : '',\n      name: recipe.strDrink || recipe.strMeal,\n      image: recipe.strDrinkThumb || recipe.strMealThumb,\n    };\n    favoriteRecipes.push(savingFavoriteRecipeObject);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n  };\n  const deletingFavoriteRecipe = () => {\n    const pageID = recipe.idMeal || recipe.idDrink;\n    const arrayWithDeletedRecipe = favoriteRecipes.filter(({ id }) => id !== pageID);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(arrayWithDeletedRecipe));\n  };\n\n  useEffect(() => {\n    console.log(recipe);\n    // const keys = Object.keys(recipe);\n    if (recipe !== undefined) {\n      const pageID = recipe.idMeal || recipe.idDrink;\n      const isThere = favoriteRecipes.some((favRec) => favRec.id === pageID);\n      setIsFav(isThere);\n      console.log(pageID);\n      console.log(isThere);\n    }\n  }, [recipe, favoriteRecipes]);\n  return (\n    <div>\n\n      { isFav\n        ? (\n          <button\n            onClick={ () => {\n              setIsFav(false);\n              deletingFavoriteRecipe();\n            } }\n          >\n            <img src={ blackHearticon } alt=\"Black Heart\" data-testid=\"favorite-btn\" />\n\n          </button>)\n        : (\n          <button\n            onClick={ () => {\n              setIsFav(true);\n              savingFavoriteRecipes();\n            } }\n          >\n            <img src={ whiteHeartIcon } alt=\"White Heart\" data-testid=\"favorite-btn\" />\n          </button>\n        )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}